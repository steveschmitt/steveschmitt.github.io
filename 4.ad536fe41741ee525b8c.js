(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"4+Yl":function(t,e,n){"use strict";n.d(e,"a",function(){return d});var o,r=n("dzgT"),i=n("67Y/"),c=n("Hf8m"),u=n("vJhN"),a=n("CcnG"),p=n("DOgY"),s=n("GkvS"),f=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(t){function e(e,n){var o=t.call(this,"HouseholdFilers",e)||this;return o.helper=e,o.sessionService=n,o}return f(e,t),Object.defineProperty(e.prototype,"householdFilers$",{get:function(){var t=this;return Object(r.b)(this.entities$,this.sessionService.currentCompanyId$).pipe(Object(i.a)(function(e){var n=e[1];return e[0].find(function(t){return t.companyId===n})||t.createNewRecord(n)}))},enumerable:!0,configurable:!0}),e.prototype.createNewRecord=function(t){return t?new u.x(null,t):null},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e(a.inject(p.a),a.inject(s.a))},token:e,providedIn:"root"}),e}(c.a)},"8U/9":function(t,e,n){"use strict";n.d(e,"a",function(){return f});var o,r=n("a+Vh"),i=n("vJhN"),c=n("Hf8m"),u=n("CcnG"),a=n("DOgY"),p=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s="CompanyDeduction",f=function(t){function e(e){var n=t.call(this,s,e)||this;return n.helper=e,n.companyDeductions$=n.entities$,n}return p(e,t),e.prototype.createFromDeduction=function(t){if(!t)throw new Error("deduction is null");return this.create(new i.f(t))},e.prototype.save=function(t){var e=this,n=t.filter(function(t){return!0===t.isRemoved&&t.id}),o=t.filter(function(t){return!0!==t.isRemoved&&t.id}),i=t.filter(function(t){return!0!==t.isRemoved&&!t.id}).map(function(t){return t.id=e.helper.generateId(),t}),c=[r.d.add(s,i),r.d.update(s,o),r.d.delete(s,n)];return this.saveEntities({changes:c},"/save/company-deduction")},e.ngInjectableDef=u.defineInjectable({factory:function(){return new e(u.inject(a.a))},token:e,providedIn:"root"}),e}(c.a)},Nvq7:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o,r=n("kooT"),i=n("CcnG"),c=n("DOgY"),u=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e){var n=t.call(this,"Ancillary",e.collectionServiceElementsFactory)||this;return n.helper=e,n}return u(e,t),e.ngInjectableDef=i.defineInjectable({factory:function(){return new e(i.inject(c.a))},token:e,providedIn:"root"}),e}(r.y)},SI61:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var o,r=n("kooT"),i=n("XlPw"),c=n("CcnG"),u=n("DOgY"),a=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e){var n=t.call(this,"User",e.collectionServiceElementsFactory)||this;return n.helper=e,n.currentUserId$=n.helper.currentUserId$,n.currentUser$=n.helper.currentUser$,n.readOnly$=n.helper.readOnly$,n}return a(e,t),e.prototype.addUser=function(t){return Object(i.a)("Do not call add. Create a User through sign-up")},e.ngInjectableDef=c.defineInjectable({factory:function(){return new e(c.inject(u.a))},token:e,providedIn:"root"}),e}(r.y)},ZwaR:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o,r=n("Hf8m"),i=n("CcnG"),c=n("DOgY"),u=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e){var n=t.call(this,"EmployeePaymentMethod",e)||this;return n.helper=e,n}return u(e,t),e.ngInjectableDef=i.defineInjectable({factory:function(){return new e(i.inject(c.a))},token:e,providedIn:"root"}),e}(r.a)},"d6/r":function(t,e,n){"use strict";n("G9QM"),n("lh4+"),n("sV0p"),n("Nvq7"),n("WNQf"),n("eXtt"),n("duKC"),n("id9v"),n("Hf8m"),n("8U/9"),n("lC6n"),n("ognR"),n("wsHA"),n("WKRu"),n("e8vW"),n("ZwaR"),n("o43W"),n("D/ii"),n("CcnG"),n("DOgY"),Object.setPrototypeOf||Array,n("gkpW"),n("4+Yl");var o=n("PBdc");n("k8cs"),n("BhfR"),n("SI61"),n.d(e,"a",function(){return o.b})},duKC:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var o,r=n("a+Vh"),i=n("vJhN"),c=n("Hf8m"),u=n("AytR"),a=n("CcnG"),p=n("DOgY"),s=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f="CompanyEarning",d=function(t){function e(e){var n=t.call(this,f,e)||this;return n.helper=e,n.companyEarnings$=n.entities$,n}return s(e,t),e.prototype.createFromEarning=function(t){if(!t)throw new Error("earning is null");return this.create(new i.g(t))},e.prototype.save=function(t){var e=this,n=t.filter(function(t){return t.id}),o=t.filter(function(t){return!0!==t.isRemoved&&!t.id}).map(function(t){return t.id=e.helper.generateId(),t}),i=[r.d.add(f,o),r.d.update(f,n)];return this.saveEntities({changes:i},u.a.apiRoot+"/save/companyearning")},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e(a.inject(p.a))},token:e,providedIn:"root"}),e}(c.a)},e8vW:function(t,e,n){"use strict";n.d(e,"a",function(){return j});var o,r=n("F/XL"),i=n("dzgT"),c=n("67Y/"),u=n("P6uZ"),a=n("Phjn"),p=n("a+Vh"),s=n("Hf8m"),f=n("AytR"),d=n("CcnG"),l=n("lh4+"),y=n("DOgY"),h=n("Bnl9"),v=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),j=function(t){function e(e,n,o){var r=t.call(this,"Employee",n)||this;return r.entitySelectors=e,r.helper=n,r.taxCollectorService=o,r}return v(e,t),e.prototype.saveNewEmployee=function(t,e,n){var o=[p.d.add("Address",e),p.d.add("Employee",t),p.d.add("EmployeePaymentMethod",n)];return this.saveEntities({changes:o},f.a.apiRoot+"/save/employee").pipe(Object(c.a)(function(e){return t}))},e.prototype.saveEmployeeUpdate=function(t,e){var n=[p.d.update("Address",e),p.d.update("Employee",t)];return this.saveEntities({changes:n},f.a.apiRoot+"/save/employee").pipe(Object(c.a)(function(e){return t}))},e.prototype.saveEmployeeIsRemovedById=function(t,e){var n=this;return this.entityMap$.pipe(Object(u.a)(),Object(c.a)(function(e){return e[t]}),Object(a.a)(function(t){return n.saveEmployeeIsRemoved(t,e)}))},e.prototype.saveEmployeeIsRemoved=function(t,e){var n=this;if(null==t||t.isRemoved===e)return Object(r.a)(null);t.isRemoved=e;var o=this.entitySelectors.address.entities$.pipe(Object(c.a)(function(e){return e.find(function(e){return e.id===t.homeAddressId})})),s=this.entitySelectors.employeePaymentMethod.entities$.pipe(Object(c.a)(function(e){return e.find(function(e){return e.employeeId===t.id})}));return Object(i.b)(o,s).pipe(Object(u.a)(),Object(a.a)(function(e){var o=e[0],r=e[1];o.isRemoved=t.isRemoved;var i=[p.d.update("Employee",t),p.d.update("Address",o)];return r&&(r.isRemoved=t.isRemoved,i.push(p.d.update("EmployeePaymentMethod",r))),n.saveEntities({changes:i},f.a.apiRoot+"/save/employee/removed").pipe(Object(a.a)(function(){return n.taxCollectorService.computeTaxes().pipe(Object(c.a)(function(){return t}))}))}))},e.ngInjectableDef=d.defineInjectable({factory:function(){return new e(d.inject(l.a),d.inject(y.a),d.inject(h.a))},token:e,providedIn:"root"}),e}(s.a)},eXtt:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o,r=n("kooT"),i=n("CcnG"),c=n("DOgY"),u=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e){var n=t.call(this,"CompanyAncillary",e.collectionServiceElementsFactory)||this;return n.helper=e,n}return u(e,t),e.prototype.saveEntities=function(t,e,n){return this.helper.entityCacheDispatcher.saveEntities(t,e,n)},e.ngInjectableDef=i.defineInjectable({factory:function(){return new e(i.inject(c.a))},token:e,providedIn:"root"}),e}(r.y)},gkpW:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o,r=n("Hf8m"),i=n("CcnG"),c=n("DOgY"),u=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e){var n=t.call(this,"EnvelopeSigner",e)||this;return n.helper=e,n}return u(e,t),e.ngInjectableDef=i.defineInjectable({factory:function(){return new e(i.inject(c.a))},token:e,providedIn:"root"}),e}(r.a)},lC6n:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var o=n("F/XL"),r=n("/PH2"),i=n("15JJ"),c=n("67Y/"),u=n("9Z1F"),a=n("klSw"),p=n("AytR"),s=n("CcnG"),f=n("QHho"),d=n("t/Na"),l=n("OsF4"),y=p.a.apiRoot+"/deductions",h=function(){function t(t,e,n){var p=this;this.http=e,this.logger=n;var s=t.collectionServiceElementsFactory.create("Deduction");this.dispatcher=s.dispatcher,this.loaded$=s.selectors$.loaded$,this.deductions$=s.selectors$.entities$.pipe(Object(r.a)(this.loaded$),Object(i.a)(function(t){var e=t[0];return t[1]?Object(o.a)(e):p.http.get(y).pipe(Object(c.a)(function(t){return p.dispatcher.addAllToCache(t),t}),Object(u.a)(function(t){return p.logger.error("Deductions service failed to return deductions",t),p.dispatcher.setLoaded(!0),Object(o.a)(e)}))}),Object(a.a)(1))}return t.prototype.clearCache=function(){this.dispatcher.clearCache()},t.ngInjectableDef=s.defineInjectable({factory:function(){return new t(s.inject(f.a),s.inject(d.c),s.inject(l.a))},token:t,providedIn:"root"}),t}()},o43W:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o,r=n("67Y/"),i=n("a+Vh"),c=n("Hf8m"),u=n("CcnG"),a=n("DOgY"),p=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){var n=t.call(this,"EmployeeDeduction",e)||this;return n.helper=e,n.employeeDeductions$=n.entities$,n}return p(e,t),e.prototype.getEmployeeDeductions=function(t){return this.employeeDeductions$.pipe(Object(r.a)(function(e){return e.filter(function(e){return e.employeeId===t})}))},e.prototype.getDeductionsLinkedTo=function(t){return this.employeeDeductions$.pipe(Object(r.a)(function(e){return e.filter(function(e){return e.companyDeductionId===t})}))},e.prototype.save=function(t){var e=this,n=(t||[]).filter(function(t){return!0===t.isRemoved&&t.id}),o=(t||[]).filter(function(t){return!0!==t.isRemoved&&t.id}),r=(t||[]).filter(function(t){return!0!==t.isRemoved&&!t.id}).map(function(t){return t.id=e.helper.generateId(),t}),c=[i.d.add("EmployeeDeduction",r),i.d.update("EmployeeDeduction",o),i.d.delete("EmployeeDeduction",n)];return this.saveEntities({changes:c},"/save/employee-deduction")},e.ngInjectableDef=u.defineInjectable({factory:function(){return new e(u.inject(a.a))},token:e,providedIn:"root"}),e}(c.a)},ognR:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var o,r=n("Hf8m"),i=n("AytR"),c=n("CcnG"),u=n("DOgY"),a=n("t/Na"),p=n("M9IJ"),s=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(t){function e(e,n,o){var r=t.call(this,"Document",e)||this;return r.helper=e,r.http=n,r.busyService=o,r}return s(e,t),e.prototype.getDocPdf=function(t){return this.busyService.busy$("Building Document ...",this.http.get(i.a.apiRoot+"/document/download/"+t,{responseType:"blob"}))},e.ngInjectableDef=c.defineInjectable({factory:function(){return new e(c.inject(u.a),c.inject(a.c),c.inject(p.a))},token:e,providedIn:"root"}),e}(r.a)}}]);
//# sourceMappingURL=4.ad536fe41741ee525b8c.js.map