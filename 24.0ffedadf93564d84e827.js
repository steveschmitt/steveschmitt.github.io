(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{goX7:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),u=(e("pvB6"),e("P6uZ")),o=e("ey9i"),i=function(){this.catalog=[],this.hasCompanyDeductions=null},c=o.c.Employees+"/company-deductions",d=function(){function n(n,l,e,t){this.companyService=n,this.editorService=l,this.router=e,this.session=t,this.vm=new i}return n.prototype.ngOnInit=function(){var n=this;this.companyService.currentCompany$.pipe(Object(u.a)()).subscribe(function(l){n.vm={catalog:n.editorService.companyDeductionCategories,companyKind:l.isHousehold?"household":"company",hasCompanyDeductions:n.editorService.hasCompanyDeductions}}),this.session.currentEmployee$.pipe(Object(u.a)()).subscribe(function(l){return n.currentEmployee=l})},n.prototype.gotoCompanyDeduction=function(){this.router.navigate([c])},n.prototype.onCatalogSelection=function(n){this.router.navigate("Retirements"===n.key?[this.employeeDeductionsUrl+"/retirement"]:[this.employeeDeductionsUrl+"/deduction/"+n.key])},Object.defineProperty(n.prototype,"employeeDeductionsUrl",{get:function(){return o.c.Employees+"/"+this.currentEmployee.id+"/deductions"},enumerable:!0,configurable:!0}),n}(),a=e("F/XL"),r=e("dzgT"),p=e("67Y/"),s=e("xMyE"),m=e("MDZ9"),f=e("lC6n"),y=e("8U/9"),v=e("o43W"),g=e("GkvS"),h=function(){function n(n,l,e,t){this.deductionService=n,this.companyDeductionService=l,this.employeeDeductionService=e,this.session=t}return n.prototype.ready=function(){var n=this;if(this.deductions)return Object(a.a)(!0);var l=this.session.currentEmployeeId$,e=l.pipe(Object(p.a)(function(l){return n.employeeDeductionService.getEmployeeDeductions(l)})),t=this.companyDeductionService.entities$,o=this.deductionService.deductions$.pipe(Object(u.a)(),Object(s.a)(function(l){n.deductions=l,t.subscribe(function(e){var t=n.mapToItems(e,n.deductions);n.companyDeductionItems=t,n.hasCompanyDeductions=t.length>0,n.deductionCategories=Object(m.e)(l)})})),i=Object(r.b)(l,o,t,e).pipe(Object(p.a)(function(l){var e=l[0],t=l[2];l[3].subscribe(function(l){var u=n.mapToItems(t,n.deductions);n.companyDeductionItems=u,n.companyDeductionCategories=n.buildDeductionCategoriesForEmployee(n.companyDeductionCategories,e,n.companyDeductionItems,l)})}));return i.subscribe(),i.pipe(Object(p.a)(function(){return!0}))},n.prototype.buildDeductionCategoriesForEmployee=function(n,l,e,t){return n||(n=Object(m.d)()),Object(m.g)(n,e,t)},n.prototype.mapToItems=function(n,l){return n.map(function(n){var e=l.find(function(l){return l.codeTypeId===n.deductionCodeTypeId});return new m.a(e,!1,[n])})},n.ngInjectableDef=t.defineInjectable({factory:function(){return new n(t.inject(f.a),t.inject(y.a),t.inject(v.a),t.inject(g.a))},token:n,providedIn:"root"}),n}(),b=function(){function n(n){this.service=n}return n.prototype.canActivateChild=function(){return this.service.ready()},n.ngInjectableDef=t.defineInjectable({factory:function(){return new n(t.inject(h))},token:n,providedIn:"root"}),n}(),D=function(){function n(){}return n.prototype.ngOnInit=function(){},n.prototype.ngOnDestroy=function(){},n}(),C=function(){function n(n,l,e){this.router=n,this.editorService=l,this.log=e}return n.prototype.ngOnInit=function(){},n}(),I=function(){function n(){}return n.prototype.ngOnInit=function(){},n.prototype.configureEditor=function(){},n}(),O=function(){},T=e("pMnS"),j=e("9AJC"),R=e("Ip0R"),k=function(){function n(){this.deductionTypeSelected=new t.EventEmitter}return Object.defineProperty(n.prototype,"category",{get:function(){return this.catalog&&this.catalog.length>0?this.catalog[0]:null},enumerable:!0,configurable:!0}),n.prototype.getListOfDeductionTitles=function(n){return Object(o.g)(n).sort(function(n,l){return n.order-l.order})},n.prototype.selectType=function(n){this.deductionTypeSelected.emit(n)},n}(),E=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function S(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"span",[["class","item-available"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.selectType(n.parent.context.$implicit)&&t),t},null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"i",[["class","material-icons icon"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["add"])),(n()(),t["\u0275ted"](3,null,[" "," "]))],null,function(n,l){n(l,3,0,l.parent.context.$implicit.label)})}function _(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","item-unavailable"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.label)})}function w(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"li",[["class","accordion-menu-item"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,S)),t["\u0275did"](2,16384,null,0,R.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),t["\u0275and"](0,[["notAvailable",2]],null,0,null,_))],function(n,l){n(l,2,0,l.context.$implicit.enabled,t["\u0275nov"](l,3))},null)}function F(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"ul",[["class","employee-deduction-catalog"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,w)),t["\u0275did"](3,278528,null,0,R.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,3,0,e.getListOfDeductionTitles(e.category.deductionTitles))},null)}function M(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Add Deductions"])),(n()(),t["\u0275and"](16777216,null,null,1,null,F)),t["\u0275did"](4,16384,null,0,R.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,4,0,l.component.category)},null)}var x=e("ZYCi"),N=e("WNQf"),L=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function V(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","sp-card sp-card-helper"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,[" Looks like you don't have any "," deductions set up yet. You'll need to do that first to add your employee's deductions. "])),(n()(),t["\u0275eld"](4,0,null,null,2,"a",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.gotoCompanyDeduction()&&t),t},null,null)),(n()(),t["\u0275ted"](5,null,[" Setup "," Deductions -> "])),t["\u0275ppd"](6,1)],null,function(n,l){var e=l.component;n(l,3,0,e.vm.companyKind),n(l,5,0,t["\u0275unv"](l,5,0,n(l,6,0,t["\u0275nov"](l.parent,0),e.vm.companyKind)))})}function $(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","layout-split-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","layout-split-menu"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"sp-employee-deductions-catalog",[],null,[[null,"deductionTypeSelected"]],function(n,l,e){var t=!0;return"deductionTypeSelected"===l&&(t=!1!==n.component.onCatalogSelection(e)&&t),t},M,E)),t["\u0275did"](3,49152,null,0,k,[],{catalog:[0,"catalog"]},{deductionTypeSelected:"deductionTypeSelected"}),(n()(),t["\u0275eld"](4,0,null,null,2,"div",[["class","layout-split-content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](5,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](6,212992,[["outlet",4]],0,x.q,[x.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null)],function(n,l){n(l,3,0,l.component.vm.catalog),n(l,6,0)},null)}function P(n){return t["\u0275vid"](0,[t["\u0275pid"](0,R.TitleCasePipe,[]),(n()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","static-nav d-flex flex-column"],["id","companyDeductions"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,V)),t["\u0275did"](3,16384,null,0,R.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,$)),t["\u0275did"](5,16384,null,0,R.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,3,0,!1===e.vm.hasCompanyDeductions),n(l,5,0,!0===e.vm.hasCompanyDeductions)},null)}var U=t["\u0275ccf"]("sp-employee-deductions",d,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"sp-employee-deductions",[],null,null,null,P,L)),t["\u0275did"](1,114688,null,0,d,[N.a,h,x.l,g.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),A=e("OsF4"),z=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function G(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Employee deductions table\n"]))],null,null)}var K=t["\u0275ccf"]("sp-employee-deductions-table",C,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"sp-employee-deductions-table",[],null,null,null,G,z)),t["\u0275did"](1,114688,null,0,C,[x.l,h,A.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),J=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Y(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Employee Retirement Component: TODO\n"]))],null,null)}var Z=t["\u0275ccf"]("sp-employee-retirement",I,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"sp-employee-retirement",[],null,null,null,Y,J)),t["\u0275did"](1,114688,null,0,I,[],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),B=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function X(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Employee Deduction Editor\n"]))],null,null)}var Q=t["\u0275ccf"]("sp-employee-deduction-editor",D,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"sp-employee-deduction-editor",[],null,null,null,X,B)),t["\u0275did"](1,245760,null,0,D,[],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),W=e("gIcY"),q=e("4GxJ"),H=e("UVXo"),nn=e("PCNd"),ln=e("bQsT");e.d(l,"EmployeeDeductionsModuleNgFactory",function(){return en});var en=t["\u0275cmf"](O,[],function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[T.a,j.a,j.b,j.k,j.g,j.h,j.i,j.j,U,K,Z,Q]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,R.NgLocalization,R.NgLocaleLocalization,[t.LOCALE_ID,[2,R["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,W["\u0275angular_packages_forms_forms_i"],W["\u0275angular_packages_forms_forms_i"],[]),t["\u0275mpd"](4608,W.FormBuilder,W.FormBuilder,[]),t["\u0275mpd"](4608,q.w,q.w,[t.ComponentFactoryResolver,t.Injector,q.Z,q.x]),t["\u0275mpd"](1073742336,R.CommonModule,R.CommonModule,[]),t["\u0275mpd"](1073742336,W["\u0275angular_packages_forms_forms_bb"],W["\u0275angular_packages_forms_forms_bb"],[]),t["\u0275mpd"](1073742336,W.FormsModule,W.FormsModule,[]),t["\u0275mpd"](1073742336,W.ReactiveFormsModule,W.ReactiveFormsModule,[]),t["\u0275mpd"](1073742336,x.p,x.p,[[2,x.v],[2,x.l]]),t["\u0275mpd"](1073742336,q.c,q.c,[]),t["\u0275mpd"](1073742336,q.f,q.f,[]),t["\u0275mpd"](1073742336,q.g,q.g,[]),t["\u0275mpd"](1073742336,q.k,q.k,[]),t["\u0275mpd"](1073742336,q.l,q.l,[]),t["\u0275mpd"](1073742336,q.s,q.s,[]),t["\u0275mpd"](1073742336,q.t,q.t,[]),t["\u0275mpd"](1073742336,q.y,q.y,[]),t["\u0275mpd"](1073742336,q.C,q.C,[]),t["\u0275mpd"](1073742336,q.D,q.D,[]),t["\u0275mpd"](1073742336,q.G,q.G,[]),t["\u0275mpd"](1073742336,q.K,q.K,[]),t["\u0275mpd"](1073742336,q.P,q.P,[]),t["\u0275mpd"](1073742336,q.T,q.T,[]),t["\u0275mpd"](1073742336,q.U,q.U,[]),t["\u0275mpd"](1073742336,q.V,q.V,[]),t["\u0275mpd"](1073742336,q.z,q.z,[]),t["\u0275mpd"](1073742336,H.TextMaskModule,H.TextMaskModule,[]),t["\u0275mpd"](1073742336,nn.a,nn.a,[]),t["\u0275mpd"](1073742336,O,O,[]),t["\u0275mpd"](1024,x.j,function(){return[[{path:"",component:d,canActivateChild:[b],canDeactivate:[ln.a],data:{title:"Employee Deductions"},children:[{path:"",component:C,canDeactivate:[ln.a],data:{title:"Employee Deductions"}},{path:"retirement",component:I,canDeactivate:[ln.a],data:{title:"Company Retirement Plan"}},{path:"deduction/:id/:code",component:D,canDeactivate:[ln.a],data:{}},{path:"deduction/:id",component:D,canDeactivate:[ln.a],data:{}}]}]]},[])])})}}]);
//# sourceMappingURL=24.0ffedadf93564d84e827.js.map